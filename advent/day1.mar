fun find_first_digit[I](iter: I): U8 {
  loop {
    var char = iter.next().unwrap()
    if '0.to('9).contains(char) { break(char) }
  }.subtract('0)
}

fun main(): I64 {
  var sum = 0_u64
  for line in &read_file("advent/day1.smol").iter().split_lines() {
    var first_digit = (&line.iter()).find_first_digit().to_U64()
    var last_digit = (&line.rev_iter()).find_first_digit().to_U64()
    sum = sum.add(first_digit.multiply(10_u64).add(last_digit))
  }
  println(sum)
  return 0_i64
}
